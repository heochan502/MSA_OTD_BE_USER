<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.otd.onetoday_user.application.point.PointMapper">

    <select id="pointFindAll" resultType="com.otd.otd_pointShop.entity.Point">
        SELECT *
        FROM point
        WHERE user_id = #{userId}
        ORDER BY created_at DESC
        LIMIT #{offset}, #{pageSize}
    </select>

    <select id="pointFindOne" resultType="com.otd.otd_pointShop.entity.Point">
        SELECT *
        FROM point
        WHERE point_id = #{pointId}
        AND user_id = #{userId}
    </select>

    <insert id="savePoint">
        INSERT INTO point
        (user_id, point_score, point_item_name, point_item_content, point_item_image)
        VALUES
        (#{userId}, #{pointScore}, #{pointItemName}, #{pointItemContent}, #{pointItemImage})
    </insert>

    <update id="updatePoint">
        UPDATE point
        SET point_score = #{pointScore},
        point_item_name = #{pointItemName},
        point_item_content = #{pointItemContent},
        point_item_image = #{pointItemImage}
        WHERE point_id = #{pointId}
        AND user_id = #{userId}
    </update>

    <delete id="deletePoint">
        DELETE FROM point
        WHERE point_id = #{pointId}
        AND user_id = #{userId}
    </delete>

</mapper>